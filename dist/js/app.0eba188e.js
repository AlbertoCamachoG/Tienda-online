(function(t){function e(e){for(var a,i,s=e[0],c=e[1],u=e[2],l=0,p=[];l<s.length;l++)i=s[l],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(p.length)p.shift()();return r.push.apply(r,u||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],a=!0,s=1;s<o.length;s++){var c=o[s];0!==n[c]&&(a=!1)}a&&(r.splice(e--,1),t=i(i.s=o[0]))}return t}var a={},n={app:0},r=[];function i(e){if(a[e])return a[e].exports;var o=a[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=a,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(o,a,function(e){return t[e]}.bind(null,a));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var d=c;r.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"11d7":function(t,e,o){"use strict";o("160c")},"160c":function(t,e,o){},"3b7e":function(t,e,o){"use strict";o("c6be")},"54d5":function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var a=o("2b0e"),n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("Cabecera"),o("pulse-loader",{staticClass:"loader",attrs:{loading:t.loading,color:t.color,size:t.size}}),o("router-view"),t.authenticated?o("router-view",{attrs:{name:"productos"}}):t._e(),o("Pie")],1)},r=[],i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("header",[o("notifications",{attrs:{group:"home",position:"top center",height:"700"}}),o("div",{staticClass:"cabecera"},[o("div",{staticClass:"logo"},[o("router-link",{staticClass:"link",attrs:{to:"/"}},[o("font-awesome-icon",{staticClass:"logoVector",attrs:{size:"3x",icon:["fab","canadian-maple-leaf"]}})],1),o("p",[t._v("Has iniciado sesión como: "+t._s(t.firstName))])],1),o("div",{staticClass:"pro"},[o("router-link",{staticClass:"tiend-link",attrs:{to:{name:"Main",params:{},props:{auth:"true"}}}},[o("font-awesome-icon",{attrs:{size:"2x",icon:["fas","shopping-bag"]}})],1),o("p",[t._v("Hay "+t._s(t.numero)+" pedidos por valor de "+t._s(t.precio)+"€")])],1),o("div",{staticClass:"carro"},[t.authenticated?t._e():o("button",{on:{click:t.login}},[t._v("Iniciar Sesión")]),t.authenticated?o("button",{on:{click:t.logout}},[t._v("Cerrar Sesión")]):t._e(),o("router-link",{staticClass:"link",attrs:{to:"/carro"}},[o("font-awesome-icon",{attrs:{size:"2x",icon:["fas","shopping-cart"]}})],1)],1)])],1)},s=[],c=(o("4de4"),o("ac1f"),o("1276"),o("159b"),o("260b")),u=(o("e71f"),o("ea7b"),o("588e"),{apiKey:"AIzaSyAQlRC2wLyBYSBeWaYBZqXezAKf32NIvfE",authDomain:"tienda-online-f0293.firebaseapp.com",projectId:"tienda-online-f0293",storageBucket:"tienda-online-f0293.appspot.com",messagingSenderId:"617376025762",appId:"1:617376025762:web:583c0a6a2a8ce8fa85dbfb"}),d=c["a"].initializeApp(u).firestore(),l=c["a"].firestore;l.Timestamp,l.GeoPoint;d.settings({timestampsInSnapshots:!0});var p={auth:c["a"].auth(),login:function(){var t=new c["a"].auth.GoogleAuthProvider;c["a"].auth().signInWithPopup(t).then((function(t){console.log(t)})).catch((function(t){var e=t.code,o=t.message,a=t.email,n=t.credential;console.log(e,o,a,n)}))},logout:function(){c["a"].auth().signOut().then((function(){})).catch((function(t){console.log(t)}))}},f={name:"Cabecera",props:[],mounted:function(){var t=this;p.auth.onAuthStateChanged((function(e){e?(t.user.loggedIn=!0,t.user.data=e):(t.user.loggedIn=!1,t.user.data={})}))},data:function(){return{carritos:[],user:{loggedIn:!1,data:{}}}},methods:{login:function(){p.login()&&this.$notify({group:"home",title:"login",text:"Se ha realizado la operación con exito"})},logout:function(){p.logout(),this.$notify({group:"home",title:"logout",text:"Se ha cerrado sesión con exito"})}},computed:{authenticated:function(){return this.user.loggedIn},firstName:function(){return this.user.data.displayName?this.user.data.displayName.split(" ")[0]:null},precio:function(){var t=this,e=this.carritos.filter((function(e){return e.Usuario==t.firstName})),o=0;return e.forEach((function(t){o+=t.Precio})),o},numero:function(){var t=this,e=this.carritos.filter((function(e){return e.Usuario==t.firstName}));return e.length}},filters:{mayus:function(t){if(t)return t.toUpperCase()}},firestore:{carritos:d.collection("carrito")}},h=f,m=(o("e244"),o("2877")),g=Object(m["a"])(h,i,s,!1,null,"6e58ad7e",null),v=g.exports,b=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"bg"},[t._m(0),o("hr"),o("div",{staticClass:"footer"},[o("div",{staticClass:"field"},[o("a",{staticClass:"sns-btn sns-btn--twitter",attrs:{href:"https://www.twitter.com",target:"_blank"}},[o("font-awesome-icon",{attrs:{size:"2x",icon:["fab","twitter"]}})],1),o("a",{staticClass:"sns-btn sns-btn--facebook",attrs:{href:"https://www.facebook.com",target:"_blank"}},[o("font-awesome-icon",{attrs:{size:"2x",icon:["fab","facebook-f"]}})],1),o("a",{staticClass:"sns-btn sns-btn--instagram",attrs:{href:"https://www.instagram.com",target:"_blank"}},[o("font-awesome-icon",{attrs:{size:"2x",icon:["fab","instagram"]}})],1)])]),o("br")])},_=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"footer"},[o("div",{staticClass:"LetraPlano"},[o("h3",{staticClass:"LetraTitulo"},[t._v("NECESITAS AYUDA?")]),o("a",{attrs:{href:"https://www.pinterest.es/pin/332070172516961353/"}},[o("p",[t._v("Ayuda")])])]),o("div",{staticClass:"LetraPlano"},[o("h3",{staticClass:"LetraTitulo"},[t._v("MAS SOBRE PLANTAS")]),o("a",{attrs:{href:"https://www.ecologiaverde.com/22-flores-de-primavera-2594.html"}},[o("p",[t._v("Flores de Primavera")])]),o("a",{attrs:{href:"https://www.jardineriaon.com/flores-de-verano.html"}},[o("p",[t._v("Flores de Verano")])]),o("a",{attrs:{href:"https://www.lolaflora.es/blog/6-flores-de-otono/"}},[o("p",[t._v("Flores de Otoño")])]),o("a",{attrs:{href:"https://www.hogarmania.com/jardineria/mantenimiento/plantas/flores-invierno-45473.html"}},[o("p",[t._v("Flores de Invierno")])])]),o("div",{staticClass:"LetraPlano"},[o("h3",{staticClass:"LetraTitulo"},[t._v("SOBRE NOSOTROS")]),o("a",{attrs:{href:"https://github.com/AlbertoCamachoG"}},[o("p",[t._v("Github")])]),o("p")])])}],C={name:"pie",props:[],mounted:function(){},data:function(){return{}},methods:{},computed:{}},w=C,x=(o("b20a"),Object(m["a"])(w,b,_,!1,null,"ba9ed1e6",null)),y=x.exports,I=o("8a5d"),P={name:"App",components:{Cabecera:v,Pie:y,PulseLoader:I["a"]},mounted:function(){var t=this;p.auth.onAuthStateChanged((function(e){e?(t.user.loggedIn=!0,t.user.data=e):(t.user.loggedIn=!1,t.user.data={},"/"!=t.$route.path&&t.$router.push("/"))})),setTimeout((function(){t.loading=!1}),400)},data:function(){return{user:{loggedIn:!0,data:{}},size:"200px",loading:!0,color:"green"}},computed:{authenticated:function(){return this.user.loggedIn}}},k=P,S=(o("5c0b"),Object(m["a"])(k,n,r,!1,null,null,null)),N=S.exports,O=o("8c4f"),A=o("ee98"),$=o.n(A),E=o("ecee"),T=o("c074"),z=o("f2d1"),j=o("ad3d"),L=o("0ff2"),q=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.authenticated?o("div",[o("h1",{staticClass:"title"},[t._v("Novedades")]),o("hr",{staticClass:"hr"}),o("notifications",{attrs:{group:"foo",position:"top center",height:"700"}}),o("div",{staticClass:"productos"},[t.input?o("div",{staticClass:"anadir"},[o("button",{staticClass:"cerrar",on:{click:t.quitarInput}},[t._v("X")]),o("h1",[t._v(t._s(t.product))]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.cantidad,expression:"cantidad"}],attrs:{type:"number",min:"0",max:t.maxi},domProps:{value:t.cantidad},on:{input:function(e){e.target.composing||(t.cantidad=e.target.value)}}}),o("label",[t._v("Total: "+t._s(t.precio)+" €")]),o("button",{on:{click:function(e){return t.anadirProducto(t.producto)}}},[o("font-awesome-icon",{attrs:{icon:["fas","plus"]}})],1)]):t._e(),t._l(t.productos,(function(e){return o("div",{key:e.id,staticClass:"producto LetraPlano"},[o("h1",{staticClass:"LetraTitulo"},[t._v(t._s(e.Nombre))]),o("hr"),o("img",{attrs:{src:e.Imagen,width:"150px",height:"100px"}}),o("br"),o("p",[t._v(t._s(e.Descripcion))]),o("br"),o("p",[o("b",[t._v(t._s(e.Precio)+"€/u")])]),o("p",[o("b",[t._v(t._s(e.Stock))]),t._v(" Unidades restantes")]),t._v(" "),o("hr"),o("button",{staticClass:"comprar",on:{click:function(o){return t.anadirInput(e)}}},[o("font-awesome-icon",{attrs:{size:"2x",icon:["fas","plus"]}})],1)])}))],2)],1):t._e()},R=[],U={name:"Novedades",props:[],mounted:function(){var t=this;p.auth.onAuthStateChanged((function(e){e?(t.user.loggedIn=!0,t.user.data=e):(t.user.loggedIn=!1,t.user.data={},t.$router.push("/"))}))},data:function(){return{productos:[],user:{loggedIn:!1,data:{}},input:!1,cantidad:1,product:"Lycoris",maxi:0}},methods:{anadirInput:function(t){this.maxi=t.Stock,this.cantidad=1,this.input=!0,this.producto=t,this.product=t.Nombre},quitarInput:function(){this.input=!1},anadirProducto:function(t){0!=this.maxi?(d.collection("carrito").add({Producto:t.Nombre,Usuario:this.firstName,cantidad:this.cantidad,Precio:this.precio}).then((function(){console.log("Exito")})).catch((function(t){console.log(t)})),this.quitarInput(),this.maxi-=this.cantidad,d.collection("productos").doc(t.Nombre).update({Stock:this.maxi}),this.$notify({group:"foo",title:"AÑADIDO AL CARRITO",text:"Se ha realizado la operación con exito"})):(this.quitarInput(),this.$notify({group:"foo",title:"Error",text:"No hay suficiente Stock! Comprueba de nuevo mañana!",type:"error"}))}},computed:{authenticated:function(){return this.user.loggedIn},firstName:function(){return this.user.data.displayName?this.user.data.displayName.split(" ")[0]:null},precio:function(){return this.producto.Precio*this.cantidad}},firestore:{productos:d.collection("productos").where("Novedad","==",!0)}},D=U,M=(o("11d7"),Object(m["a"])(D,q,R,!1,null,"56bf9e76",null)),B=M.exports,F=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.authenticated?o("div",[o("h1",{staticClass:"title"},[t._v("Productos")]),o("hr",{staticClass:"hr"}),o("notifications",{attrs:{group:"foo",position:"top center",height:"700"}}),o("div",{staticClass:"productos"},[t.input?o("div",{staticClass:"anadir"},[o("button",{staticClass:"cerrar",on:{click:t.quitarInput}},[t._v("X")]),o("h1",[t._v(t._s(t.product))]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.cantidad,expression:"cantidad"}],attrs:{type:"number",min:"0",max:t.maxi},domProps:{value:t.cantidad},on:{input:function(e){e.target.composing||(t.cantidad=e.target.value)}}}),o("label",[t._v("Total: "+t._s(t.precio)+" €")]),o("button",{on:{click:function(e){return t.anadirProducto(t.producto)}}},[o("font-awesome-icon",{attrs:{icon:["fas","plus"]}})],1)]):t._e(),t._l(t.productos,(function(e){return o("div",{key:e.id,staticClass:"producto LetraPlano"},[o("h1",{staticClass:"LetraTitulo"},[t._v(t._s(e.Nombre))]),o("hr"),o("img",{attrs:{src:e.Imagen,width:"150px",height:"100px"}}),o("br"),o("p",[t._v(t._s(e.Descripcion))]),o("br"),o("p",[o("b",[t._v(t._s(e.Precio)+"€/u")])]),o("p",[o("b",[t._v(t._s(e.Stock))]),t._v(" Unidades restantes")]),t._v(" "),o("hr"),o("button",{staticClass:"comprar",on:{click:function(o){return t.anadirInput(e)}}},[o("font-awesome-icon",{attrs:{size:"2x",icon:["fas","plus"]}})],1)])}))],2)],1):t._e()},G=[],V={name:"productos",props:[],mounted:function(){var t=this;p.auth.onAuthStateChanged((function(e){e?(t.user.loggedIn=!0,t.user.data=e):(t.user.loggedIn=!1,t.user.data={},t.$router.push("/"))}))},data:function(){return{productos:[],producto:{},user:{loggedIn:!1,data:{}},input:!1,cantidad:1,product:"Lycoris",maxi:0}},methods:{anadirInput:function(t){this.maxi=t.Stock,this.cantidad=1,this.input=!0,this.producto=t,this.product=t.Nombre},quitarInput:function(){this.input=!1},anadirProducto:function(t){0!=this.maxi?(d.collection("carrito").add({Producto:t.Nombre,Usuario:this.firstName,cantidad:this.cantidad,Precio:this.precio}).then((function(){console.log("Exito")})).catch((function(t){console.log(t)})),this.quitarInput(),this.maxi-=this.cantidad,d.collection("productos").doc(t.Nombre).update({Stock:this.maxi}),this.$notify({group:"foo",title:"AÑADIDO AL CARRITO",text:"Se ha realizado la operación con exito"})):(this.quitarInput(),this.$notify({group:"foo",title:"Error",text:"No hay suficiente Stock! Comprueba de nuevo mañana!",type:"error"}))}},computed:{authenticated:function(){return this.user.loggedIn},firstName:function(){return this.user.data.displayName?this.user.data.displayName.split(" ")[0]:null},precio:function(){return this.producto.Precio*this.cantidad}},firestore:{productos:d.collection("productos")}},X=V,Y=(o("3b7e"),Object(m["a"])(X,F,G,!1,null,"0100de26",null)),H=Y.exports,J=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",[o("notifications",{attrs:{group:"home",position:"top center",height:"700"}}),o("div",{staticClass:"hero-image"},[o("div",{staticClass:"hero-text"},[o("h1",[t._v("Bienvenido a mi tienda de flores!")]),o("p",[t._v("Para acceder a la tienda necesitas estar logueado")]),o("router-link",{staticClass:"hero-link",attrs:{to:{name:"Main",params:{},props:{auth:"true"}}}},[t._v("Ver los productos")]),o("br")],1)])],1)},K=[],W={name:"home",props:[],mounted:function(){var t=this;p.auth.onAuthStateChanged((function(e){e?(t.user.loggedIn=!0,t.user.data=e):(t.user.loggedIn=!1,t.user.data={},t.lanzarError())}))},data:function(){return{user:{loggedIn:!1,data:{}}}},methods:{lanzarError:function(){this.authenticated||(this.$notify({group:"home",title:"Error",text:"No has iniciado sesion!",type:"error"}),setTimeout(300))}},computed:{authenticated:function(){return this.user.loggedIn}}},Q=W,Z=(o("9dfe"),Object(m["a"])(Q,J,K,!1,null,"1aed7f3d",null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"cont"},[o("notifications",{attrs:{group:"compra",position:"top center",height:"700"}}),t._l(t.query,(function(e){return o("div",{key:e.id,staticClass:"carrito"},[o("p",[o("b",[t._v(t._s(e.Producto))])]),o("p",[t._v(t._s(e.Usuario))]),o("p",[o("b",[t._v(t._s(e.cantidad))]),t._v(" Unidades")]),o("p",[t._v(t._s(e.Precio)+"€")]),o("p",[o("button",{on:{click:function(o){return t.borrarCarro(e)}}},[t._v("Borrar")])]),o("hr",{staticClass:"barra"})])})),o("div",{staticClass:"back"},[o("div",{staticClass:"button_base b10_tveffect",on:{click:function(e){return t.borrarTodo()}}},[o("div",[t._v("Confirmar Compra")]),t._m(0)])])],2)},ot=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",[t._v("Confirmar Compra")]),o("div",[t._v("Confirmar Compra")]),o("div",[t._v("Confirmar Compran")])])}],at={name:"carrito",props:[],mounted:function(){var t=this;p.auth.onAuthStateChanged((function(e){e?(t.user.loggedIn=!0,t.user.data=e):(t.user.loggedIn=!1,t.user.data={},t.$router.push("/"))}))},data:function(){return{carritos:[],productos:[],user:{loggedIn:!1,data:{}}}},methods:{borrarCarro:function(t){var e=this.productos.filter((function(e){return e.Nombre==t.Producto}));d.collection("carrito").doc(t.id).delete(),e=e[0].Stock+t.cantidad,d.collection("productos").doc(t.Producto).update({Stock:e})},borrarTodo:function(){this.query.length>0?(this.query.forEach((function(t){d.collection("carrito").doc(t.id).delete()})),this.$notify({group:"compra",title:"COMPRADO",text:"Se ha realizado la operación con exito"})):this.$notify({group:"compra",title:"CARRO VACIO",type:"error",text:"Por favor introduce elementos en el carrito para continuar"})}},computed:{authenticated:function(){return this.user.loggedIn},firstName:function(){return this.user.data.displayName?this.user.data.displayName.split(" ")[0]:null},query:function(){var t=this;return this.carritos.filter((function(e){return e.Usuario==t.firstName}))}},firestore:{carritos:d.collection("carrito"),productos:d.collection("productos")}},nt=at,rt=(o("fc13"),Object(m["a"])(nt,et,ot,!1,null,"f262062c",null)),it=rt.exports;E["c"].add(T["b"]),E["c"].add(z["d"]),E["c"].add(z["b"]),E["c"].add(z["c"]),E["c"].add(T["c"]),E["c"].add(z["a"]),E["c"].add(T["a"]),a["default"].component("font-awesome-icon",j["a"]),a["default"].config.productionTip=!1,a["default"].use($.a),a["default"].use(L["a"]),a["default"].use(O["a"]),a["default"].config.productionTip=!1;var st=[{path:"/",component:tt,props:!0},{path:"/carro",component:it,props:!0},{path:"/main",name:"Main",components:{default:B,productos:H},props:!0}],ct=new O["a"]({routes:st});new a["default"]({render:function(t){return t(N)},router:ct}).$mount("#app")},"5c0b":function(t,e,o){"use strict";o("9c0c")},"637c":function(t,e,o){},"77b6":function(t,e,o){},"9c0c":function(t,e,o){},"9dfe":function(t,e,o){"use strict";o("54d5")},b20a:function(t,e,o){"use strict";o("b5fd")},b5fd:function(t,e,o){},c6be:function(t,e,o){},e244:function(t,e,o){"use strict";o("77b6")},fc13:function(t,e,o){"use strict";o("637c")}});
//# sourceMappingURL=app.0eba188e.js.map